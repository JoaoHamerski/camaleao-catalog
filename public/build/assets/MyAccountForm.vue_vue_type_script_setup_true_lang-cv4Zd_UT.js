import{d as v,T as w,J as U,B as _,K as F,c as D,w as d,u as o,r as m,o as A,h as t,a as c,t as V,e as C}from"./app-HYdZhUgc.js";const B=C("div",{class:"divider font-bold"},"Informações pessoais",-1),x=v({__name:"MyAccountForm",props:{user:{}},setup(b){const{user:n}=b,e=w({name:"",email:"",password:"",password_confirmation:"",phone:"",birth_date:"",city:null,state:null}),{data:g}=U({queryKey:["states"],queryFn:()=>p(),initialData:[]}),i=_([]),p=async()=>await fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome&view=nivelado").then(r=>r.json()),h=()=>{e.state&&fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e.state["UF-id"]}/municipios?orderBy=nome&view=nivelado`).then(r=>r.json()).then(r=>{i.value=r})},y=()=>{e.name=n.name,e.email=n.email,e.birth_date=n.birth_date,e.phone=n.phone};return F(async()=>{await p(),y()}),(r,s)=>{const l=m("AppInput"),u=m("AppCombobox"),f=m("AppForm");return A(),D(f,{"is-edit":"",form:o(e),routes:{patch:()=>r.route("auth.my-account-update")}},{default:d(()=>[t(l,{modelValue:o(e).email,"onUpdate:modelValue":s[0]||(s[0]=a=>o(e).email=a),label:"E-mail",placeholder:"Digite seu e-mail...",name:"email","error-message":o(e).errors.email},null,8,["modelValue","error-message"]),t(l,{modelValue:o(e).password,"onUpdate:modelValue":s[1]||(s[1]=a=>o(e).password=a),label:"Nova senha",placeholder:"Digite a nova senha...",type:"password",name:"password","error-message":o(e).errors.password},null,8,["modelValue","error-message"]),t(l,{modelValue:o(e).password_confirmation,"onUpdate:modelValue":s[2]||(s[2]=a=>o(e).password_confirmation=a),placeholder:"Repita a senha...",label:"Confirme a senha",name:"password",type:"password"},null,8,["modelValue"]),B,t(l,{modelValue:o(e).name,"onUpdate:modelValue":s[3]||(s[3]=a=>o(e).name=a),placeholder:"Digite seu nome...",label:"Nome",name:"name","error-message":o(e).errors.name},null,8,["modelValue","error-message"]),t(l,{modelValue:o(e).birth_date,"onUpdate:modelValue":s[4]||(s[4]=a=>o(e).birth_date=a),placeholder:"Digite sua data de nascimento...",label:"Data de nascimento",name:"birth_date","error-message":o(e).errors.birth_date},null,8,["modelValue","error-message"]),t(u,{modelValue:o(e).state,"onUpdate:modelValue":[s[5]||(s[5]=a=>o(e).state=a),h],by:"UF-id",items:o(g),placeholder:"Selecione um estado...",label:"Estado",name:"state","display-value":a=>a?a["UF-nome"]:"","error-message":o(e).errors.state},{option:d(a=>[c(V(a["UF-nome"]),1)]),_:1},8,["modelValue","items","display-value","error-message"]),t(u,{modelValue:o(e).city,"onUpdate:modelValue":s[6]||(s[6]=a=>o(e).city=a),by:"municipio-id",items:i.value,placeholder:"Selecione uma cidade...",label:"Cidade",name:"city","display-value":a=>a?a["municipio-nome"]:"","error-message":o(e).errors.city},{option:d(a=>[c(V(a["municipio-nome"]),1)]),_:1},8,["modelValue","items","display-value","error-message"]),t(l,{modelValue:o(e).phone,"onUpdate:modelValue":s[7]||(s[7]=a=>o(e).phone=a),label:"Telefone",placeholder:"Digite seu telefone...",name:"phone","error-message":o(e).errors.phone},null,8,["modelValue","error-message"])]),_:1},8,["form","routes"])}}});export{x as _};
